set realname = "Stanislav Fomichev"
set signature = ~/.mutt/signature

set envelope_from

# imap settings
set imap_user = "kernel@fomichev.me"
unset imap_passive
set imap_check_subscribed
set folder = "imaps://imap.gmail.com/"
set ssl_starttls = yes
set ssl_force_tls = yes

set sendmail = msmtp
#set mbox_type = Maildir
#set folder = "~/.mail"

# threaded sort
set sort = threads

# check regulary
set timeout = 15
set mail_check = 60

# keep internal data in home dir
set header_cache = ~/.mutt/cache/
set message_cachedir = ~/.mutt/cache/
set certificate_file = ~/.mutt/certificates

# edit headers with mail
set edit_headers = yes

# sliently create messages with empty subject
set abort_nosubject = no

# ask for CCs
set askcc = yes

# be quiet please
set beep = no

# but beep about incoming messages
set beep_new = yes

# no help
#set help = no
set help = yes

# don't make new messages old upon mutt exit
set mark_old = no

# save attachments into home dir
macro attach s <save-entry><bol>~/

# receive new mail
macro index S "<shell-escape>mbsync all<enter>"

# mark all messages as read
macro index A "T~U<enter><tag-prefix><clear-flag>N<untag-pattern>.<enter>" "mark all messages as read"

# toggle threads collapsing
bind index <space> collapse-thread

# don't bother me with prompting for deletion and moving
set move = no
set delete = yes
set confirmappend = no

# printer setup
set print = yes
set print_command="muttprint -p - | ps2pdf - $HOME/tmp/muttprint.pdf"
set print_split = yes

# sort messages by last received in thread
set sort=reverse-threads
set sort_aux=last-date-received

# pager: don't go to next message automatically
set pager_stop

# pager: pad blank lines with ~
set tilde

set mailcap_path = ~/.mutt/mailcap
auto_view text/html
alternative_order text/plain text/html

source $alias_file
source ~/.mutt/bindings
source ~/.mutt/lists
source ~/.mutt/mutt-colors-solarized/mutt-colors-solarized-dark-16.muttrc

# highlight patches
color body brightcyan default "^diff \-.*"
color body brightcyan default "^index [a-f0-9].*"
color body brightcyan default "^[\-]{3} .*"
color body brightcyan default "^[\+]{3} .*"
color body green default "^[\+][^\+]+.*"
color body red  default "^\-[^\-]+.*"
color body cyan default "^@@ .*"

# set imap_pass=""
source ~/local/.mutt/password
