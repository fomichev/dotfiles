#!/bin/bash

BIN=$HOME/src/ollama/ollama

if [ ! -e $BIN ]; then
	BIN=/usr/bin/ollama
fi

# https://aider.chat/docs/leaderboards/
# https://lmarena.ai/
# https://llm-stats.com/

#MODEL=llama3.1:8b             # https://ollama.com/library/llama3.1
#MODEL=deepseek-coder-v2:16b   # https://ollama.com/library/deepseek-coder-v2
#MODEL=codestral:22b           # https://ollama.com/library/codestral
#MODEL=qwen2.5:32b             # https://ollama.com/library/qwen2.5:32b
#MODEL=qwen2.5-coder:7b        # https://ollama.com/library/qwen2.5-coder:7b
#MODEL=qwq:32b                 # https://ollama.com/library/qwq:32b
#MODEL=deepseek-r1:32b         # https://ollama.com/library/deepseek-r1:32b
#MODEL=qwen3-coder:30b         # https://ollama.com/library/qwen3-coder:30b
#MODEL=qwen3:30b               # https://ollama.com/library/qwen3:30b
#MODEL=gemma3:27b-it-qat       # https://ollama.com/library/gemma3:27b
#MODEL=llama2-uncensored:7b    # https://ollama.com/library/llama2-uncensored
#MODEL=dolphin-mixtral:8x7b    # https://ollama.com/library/dolphin-mixtral
#MODEL=qwen3-next:80b          # https://ollama.com/library/qwen3-next
#MODEL=gurubot/gpt-oss-derestricted:20b # https://ollama.com/gurubot/gpt-oss-derestricted
MODEL=glm-4.7-flash:latest     # https://ollama.com/library/glm-4.7-flash

while getopts "im:s" opt; do
	case $opt in
		m) MODEL="$OPTARG" ;;
		i) echo "$MODEL"; exit 0 ;;
		*) echo "Unknown argument $1"; exit 1 ;;
	esac
done
shift $((OPTIND -1))
[ ! $? -eq 0 ] && { exit 1; }

$BIN run $MODEL "$@"
